# Engram UI è®¾è®¡è§„èŒƒ v1.0

> æœ¬æ–‡æ¡£å®šä¹‰ Engram æ’ä»¶çš„ UI å¸ƒå±€ã€å¯¼èˆªç»“æ„ã€æ–‡ä»¶æ¶æ„å’Œå“åº”å¼é€‚é…æ–¹æ¡ˆã€‚

---

## 1. å¸ƒå±€æ–¹æ¡ˆ

### 1.1 PC ç«¯å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Logo]  Engram                      [â›¶]  [X]  â”‚  â† Header
â”œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹  â”‚                                          â”‚
â”‚  ğŸŒ  â”‚                                          â”‚
â”‚  âš¡â†’ â”‚  [æ€»ç»“] [å‘é‡] [æ‰¹é‡]   â† äºŒçº§å¯¼èˆª        â”‚
â”‚  ğŸ”‘  â”‚                                          â”‚
â”‚  âš™ï¸  â”‚           [ä¸»å†…å®¹åŒºåŸŸ]                   â”‚
â”‚      â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”  [æœç´¢è®°å¿†...]                              â”‚  â† SearchBar
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç»„ä»¶è¯´æ˜**ï¼š
- **Header**: Logo + æ ‡é¢˜ + å…¨å±åˆ‡æ¢ + å…³é—­æŒ‰é’®
- **Sidebar**: å·¦ä¾§å›¾æ ‡å¯¼èˆªï¼Œå®½åº¦ 48pxï¼Œæ”¯æŒäºŒçº§å±•å¼€
- **Content**: ä¸»å†…å®¹åŒºï¼Œæ ¹æ®å½“å‰è·¯ç”±æ¸²æŸ“å¯¹åº”è§†å›¾
- **SearchBar**: åº•éƒ¨å…¨å±€æœç´¢æ 

### 1.2 ç§»åŠ¨ç«¯å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â˜°]  Engram    [â›¶] [X] â”‚  â† Header (æ±‰å ¡èœå•)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚
â”‚      [ä¸»å†…å®¹åŒºåŸŸ]        â”‚
â”‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ”  [æœç´¢...]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç‚¹å‡» â˜° â†’ ä¾§è¾¹æ ä»å·¦æ»‘å‡ºè¦†ç›–
```

---

## 2. å¯¼èˆªç»“æ„

### 2.1 ä¸€çº§å¯¼èˆª

| å›¾æ ‡ | ID | æ ‡ç­¾ | è·¯å¾„ | è¯´æ˜ |
|------|-----|------|------|------|
| ğŸ“‹ List | `memory` | è®°å¿†æµ | `/memory` | æ—¶é—´è½´å±•ç¤ºè®°å¿†äº‹ä»¶ |
| ğŸŒ Network | `graph` | ä¸–ç•Œå›¾è°± | `/graph` | React Flow å¯è§†åŒ– |
| ğŸ§  Brain | `brain` | è®°å¿† | `/brain` | æ•°æ®å¤„ç†æ“ä½œ |
| ğŸ”‘ Key | `api` | API é¢„è®¾ | `/api` | LLM æ¥å£é…ç½® |
| âš™ï¸ Settings | `settings` | è®¾ç½® | `/settings` | é€šç”¨é…ç½® |

### 2.2 äºŒçº§å¯¼èˆªï¼ˆè®°å¿†ï¼‰

| æ ‡ç­¾ | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| æ€»ç»“å‰§æƒ… | `/brain/summarize` | è°ƒç”¨ LLM ç”Ÿæˆäº‹ä»¶æ‘˜è¦ |
| å‘é‡åŒ– | `/brain/vectorize` | è®¡ç®—è®°å¿†å‘é‡ |
| æ‰¹é‡å¤„ç† | `/brain/batch` | æ‰¹é‡æ“ä½œå†å²å¯¹è¯ |

---

## 3. Views æ–‡ä»¶æ¶æ„

```
src/views/
â”œâ”€â”€ index.ts                    # å¯¼å‡ºæ‰€æœ‰è§†å›¾
â”‚
â”œâ”€â”€ Layout/                     # ğŸ”¹ å¸ƒå±€æ¡†æ¶
â”‚   â”œâ”€â”€ index.tsx               # MainLayout å®¹å™¨
â”‚   â”œâ”€â”€ Header.tsx              # å¤´éƒ¨ç»„ä»¶
â”‚   â”œâ”€â”€ SearchBar.tsx           # æœç´¢æ 
â”‚   â””â”€â”€ Sidebar/
â”‚       â”œâ”€â”€ index.tsx           # ä¾§è¾¹æ ä¸»ç»„ä»¶
â”‚       â”œâ”€â”€ NavItem.tsx         # ä¸€çº§å¯¼èˆªé¡¹
â”‚       â””â”€â”€ SubNavList.tsx      # äºŒçº§å¯¼èˆªåˆ—è¡¨
â”‚
â”œâ”€â”€ MemoryStream/               # ğŸ“‹ è®°å¿†æµé¡µé¢
â”‚   â”œâ”€â”€ index.tsx
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ MemoryCard.tsx
â”‚       â”œâ”€â”€ TimelineView.tsx
â”‚       â””â”€â”€ FilterBar.tsx
â”‚
â”œâ”€â”€ GraphView/                  # ğŸŒ å›¾è°±å¯è§†åŒ–
â”‚   â”œâ”€â”€ index.tsx
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ FlowCanvas.tsx      # React Flow ç”»å¸ƒ
â”‚       â”œâ”€â”€ NodeInspector.tsx   # èŠ‚ç‚¹è¯¦æƒ…é¢æ¿
â”‚       â””â”€â”€ ControlBar.tsx      # ç”»å¸ƒæ§åˆ¶å™¨
â”‚
â”œâ”€â”€ Brain/                      # ğŸ§  è®°å¿†ï¼ˆå«äºŒçº§è·¯ç”±ï¼‰
â”‚   â”œâ”€â”€ index.tsx               # äºŒçº§å¯¼èˆªå®¹å™¨
â”‚   â”œâ”€â”€ Summarize/
â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â”œâ”€â”€ Vectorize/
â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â””â”€â”€ BatchProcess/
â”‚       â””â”€â”€ index.tsx
â”‚
â”œâ”€â”€ APIPresets/                 # ğŸ”‘ API é¢„è®¾ç®¡ç†
â”‚   â”œâ”€â”€ index.tsx
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ PresetCard.tsx
â”‚       â””â”€â”€ PresetEditor.tsx
â”‚
â””â”€â”€ Settings/                   # âš™ï¸ è®¾ç½®é¡µ
    â”œâ”€â”€ index.tsx
    â””â”€â”€ sections/
        â”œâ”€â”€ GeneralSection.tsx
        â””â”€â”€ StorageSection.tsx
```

---

## 4. å“åº”å¼é€‚é…

### 4.1 æ–­ç‚¹å®šä¹‰

```css
/* Tailwind æ–­ç‚¹ */
--mobile: 0px - 767px
--tablet: 768px - 1023px
--desktop: 1024px+
```

### 4.2 é€‚é…ç­–ç•¥

| å…ƒç´  | Mobile | Tablet | Desktop |
|------|--------|--------|---------|
| é¢æ¿å®½åº¦ | 100% (å…¨å±) | 450px | 450px |
| ä¾§è¾¹æ  | éšè—ï¼Œæ±‰å ¡èœå•è§¦å‘ | æ˜¾ç¤º 48px | æ˜¾ç¤º 48px |
| äºŒçº§å¯¼èˆª | å±•å¼€è¦†ç›–å†…å®¹åŒº | ä¾§è¾¹å±•å¼€ | ä¾§è¾¹å±•å¼€ |
| æœç´¢æ  | ç®€åŒ– | å®Œæ•´ | å®Œæ•´ |

### 4.3 å…¨å±æ¨¡å¼

```typescript
interface PanelState {
  isFullscreen: boolean;  // å…¨å±å¼€å…³
  isSidebarOpen: boolean; // ç§»åŠ¨ç«¯ä¾§è¾¹æ çŠ¶æ€
}

// ç§»åŠ¨ç«¯é»˜è®¤å…¨å±
const defaultState = {
  isFullscreen: isMobile,
  isSidebarOpen: false,
};
```

---

## 5. å¯¼èˆªæ•°æ®ç»“æ„

```typescript
import { List, Network, Brain, Key, Settings, type LucideIcon } from 'lucide-react';

interface NavItem {
  id: string;
  icon: LucideIcon;
  label: string;
  path: string;
  children?: Omit<NavItem, 'icon' | 'children'>[];
}

export const NAV_ITEMS: NavItem[] = [
  { id: 'memory', icon: List, label: 'è®°å¿†æµ', path: '/memory' },
  { id: 'graph', icon: Network, label: 'ä¸–ç•Œå›¾è°±', path: '/graph' },
  { 
    id: 'brain', 
    icon: Brain, 
    label: 'è®°å¿†', 
    path: '/brain',
    children: [
      { id: 'summarize', label: 'æ€»ç»“å‰§æƒ…', path: '/brain/summarize' },
      { id: 'vectorize', label: 'å‘é‡åŒ–', path: '/brain/vectorize' },
      { id: 'batch', label: 'æ‰¹é‡å¤„ç†', path: '/brain/batch' },
    ]
  },
  { id: 'api', icon: Key, label: 'API é¢„è®¾', path: '/api' },
  { id: 'settings', icon: Settings, label: 'è®¾ç½®', path: '/settings' },
];
```

---

## 6. æ ·å¼è§„èŒƒ

### 6.1 CSS å‰ç¼€

æ‰€æœ‰ Engram æ ·å¼ä½¿ç”¨ `eg-` å‰ç¼€ï¼Œé¿å…ä¸ SillyTavern æ ·å¼å†²çªã€‚

### 6.2 ä¸»é¢˜å˜é‡

ç»§æ‰¿ SillyTavern ä¸»é¢˜å˜é‡ï¼š
- `--SmartThemeBodyColor`: æ–‡å­—é¢œè‰²
- `--SmartThemeBlurTintColor`: èƒŒæ™¯è‰²
- `--SmartThemeBorderColor`: è¾¹æ¡†è‰²
- `--SmartThemeQuoteColor`: å¼ºè°ƒè‰²

### 6.3 å›¾æ ‡

ä½¿ç”¨ Lucide Reactï¼ŒæŒ‰éœ€å¯¼å…¥ï¼š
```tsx
import { List, Network, Zap, Key, Settings, X, Search, Maximize2 } from 'lucide-react';
```
